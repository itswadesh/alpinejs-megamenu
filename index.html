<html>

<head>
  <script defer src="js/alpine.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>


</head>

<body>
  <div x-data="{
        megamenu: null,
        selectedCategory: {},
        styles: '',
        getMegamenu() {
            fetch('https://demo.litekart.in/api/categories/megamenu?megamenu=true&store=6356502aca4ff28ed596cb1b')
                .then((response) => response.json())
                .then((json) => this.megamenu = json);
        }
      }" x-init="getMegamenu()">

    <!-- Root category -->

    <ul class="m-0 p-0 list-none flex flex-row items-center justify-center font-semibold tracking-wide">
      <template x-for="(category, index) in megamenu" :key="category._id">
        <li x-init="selectedCategoryBorder(index, category)" class="hoverable mx-1 cursor-pointer"
          x-on:mouseenter="selectedCategory = category.name" x-on:mouseleave="selectedCategory = {}">
          <div
            class="items-center relative flex h-20 shrink-0 justify-center gap-1 whitespace-nowrap border-b-4 border-transparent p-2 font-medium uppercase"
            x-bind:class="
            index % 6 === 0 ? 'hover:border-yellow-500' :
            index % 6 === 1 ? 'hover:border-purple-500' :
            index % 6 === 2 ? 'hover:border-red-500' :
            index % 6 === 3 ? 'hover:border-green-500' :
            index % 6 === 4 ? 'hover:border-pink-500' :
            index % 6 === 5 ? 'hover:border-blue-500' :
            (index % 6 === 0 && selectedCategory === category.name) ? 'border-yellow-500' :
            (index % 6 === 1 && selectedCategory === category.name) ? 'border-purple-500' :
            (index % 6 === 2 && selectedCategory === category.name) ? 'border-red-500' :
            (index % 6 === 3 && selectedCategory === category.name) ? 'border-green-500' :
            (index % 6 === 4 && selectedCategory === category.name) ? 'border-pink-500' :
            (index % 6 === 5 && selectedCategory === category.name) ? 'border-blue-500' : ''">
            <span x-text="category.name"></span>

            <div class="mega-menu relative overflow-hidden border-b bg-white shadow-2xl">
              <div class="absolute inset-0 z-0 grid w-full grid-cols-4">
                <div class="bg-zinc-50"></div>
                <div class="bg-white"></div>
                <div class="bg-zinc-50"></div>
                <div class="bg-white"></div>
              </div>

              <ul class="relative z-10 flex max-h-[75vh] min-h-[50vh] flex-col flex-wrap items-start shadow-inner">
                <!-- 2nd level child category  -->

                <template x-for="category1 in category.children" :key="category1._id">
                  <li class="mb-2 w-1/4 flex-1 shrink-0 grow-0 p-6 pr-2 text-sm">
                    <span x-text="category1.name" class="mb-2 block w-full cursor-pointer hover:underline" x-bind:class="
                    index % 6 == 0 ? 'text-yellow-500' :
                    index % 6 === 1 ? 'text-purple-500' :
                    index % 6 === 2 ? 'text-red-500' :
                    index % 6 === 3 ? 'text-green-500' :
                    index % 6 === 4 ? 'text-pink-500' :
                    index % 6 === 5 ? 'text-blue-500' : ''"></span>

                    <ul class="flex flex-col flex-wrap items-start gap-0.5">
                      <!-- 3rd level child category  -->

                      <template x-for="category2 in category1.children" :key="category2._id">
                        <li class="block w-full font-light hover:font-medium" x-text="category2.name">

                        </li>
                      </template>
                    </ul>
            </div>
          </div>
        </li>
      </template>
    </ul>
    </li>
    </template>
    </ul>
  </div>

  <style>
    .mega-menu {
      visibility: hidden;
      transition: 0.3s 0.1s;
      /* delay of 1 seconds on hover off */
      opacity: 0;
      position: fixed;
      text-align: left;
      top: 80;
      left: 0;
      right: 0;
      width: 100vw;
      z-index: 9999;
    }

    /* #hoverable Class Styles
            –––––––––––––––––––––––––––––––––––––––––––––––––– */
    .hoverable {
      position: static;
    }

    .hoverable>a::after {
      padding-left: 6px;
      position: relative;
    }

    .hoverable:hover .mega-menu {
      visibility: visible;
      opacity: 1;
      transition-delay: 0.1s;
    }
  </style>
</body>

</html>